{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/hienminhnt3/Documents/FULLSTACK WEB FUNIX/LAP TRINH BACKEND VOI NODE JS/ON/thu\\u031B mu\\u0323c kho\\u0302ng co\\u0301 tie\\u0302u \\u0111e\\u0302\\u0300/shop/client/src/Shop/Shop.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport queryString from \"query-string\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"./Component/Search\";\nimport Pagination from \"./Component/Pagination\";\nimport Products from \"./Component/Products\";\nimport SortProduct from \"./Component/SortProduct\";\nimport convertMoney from \"../convertMoney\";\n\nfunction Shop(props) {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [temp, setTemp] = useState([]); //state dùng để sắp xếp sản phẩm\n\n  const [sort, setSort] = useState(\"default\"); //Tổng số trang\n\n  const [totalPage, setTotalPage] = useState(); // Get category parram from url by localtion\n\n  const category = new URLSearchParams(window.location.search).get(\"category\") || \"all\";\n  console.log(category); //Từng trang hiện tại\n\n  const [pagination, setPagination] = useState({\n    page: \"1\",\n    count: \"9\",\n    search: \"\",\n    category: category\n  }); //Hàm nà dùng để lấy value từ component SortProduct truyền lên\n\n  const handlerChangeSort = value => {\n    console.log(\"Value: \", value);\n    setSort(value);\n  }; //Hàm này dùng để thay đổi state pagination.page\n  //Nó sẽ truyền xuống Component con và nhận dữ liệu từ Component con truyền lên\n\n\n  const handlerChangePage = value => {\n    console.log(\"Value: \", value); //Sau đó set lại cái pagination để gọi chạy làm useEffect gọi lại API pagination\n\n    setPagination({\n      page: value,\n      count: pagination.count,\n      search: pagination.search,\n      category: pagination.category\n    });\n  }; //Hàm này dùng để thay đổi state pagination.search\n  //Hàm này sẽ truyền xuống Component con và nhận dữ liệu từ Component con truyền lên\n\n\n  const handlerSearch = value => {\n    console.log(\"Value: \", value);\n    setPagination({\n      page: pagination.page,\n      count: pagination.count,\n      search: value,\n      category: pagination.category\n    });\n  }; //Hàm này dùng để thay đổi state pagination.category\n\n\n  const handlerCategory = value => {\n    console.log(\"Value: \", value);\n    setPagination({\n      page: pagination.page,\n      count: pagination.count,\n      search: pagination.search,\n      category: value\n    });\n  }; //Gọi hàm useEffect tìm tổng số sản phẩm để tính tổng số trang\n  //Và nó phụ thuộc và state pagination\n\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      let response; // Nếu mà category === 'all' thì nó sẽ gọi hàm get tất cả sản phẩm\n      // Ngược lại thì nó sẽ gọi hàm pagination và phân loại sản phẩm\n\n      if (pagination.category === \"all\") {\n        response = await ProductAPI.getAPI();\n        setProducts(response);\n      } else {\n        const params = {\n          page: pagination.page,\n          count: pagination.count,\n          search: pagination.search,\n          category: pagination.category\n        };\n        const query = queryString.stringify(params);\n        const newQuery = \"?\" + query;\n        response = await ProductAPI.getPagination(newQuery);\n      } //Tính tổng số trang = tổng số sản phẩm / số lượng sản phẩm 1 trang\n\n\n      const totalPage = Math.ceil(parseInt(response.length) / parseInt(pagination.count));\n      console.log(totalPage);\n      setTotalPage(totalPage);\n    };\n\n    fetchAllData();\n  }, [pagination]); //Gọi hàm Pagination\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const params = {\n        page: pagination.page,\n        count: pagination.count,\n        search: pagination.search,\n        category: pagination.category\n      };\n      const query = queryString.stringify(params);\n      const newQuery = \"?\" + query;\n      const response = await ProductAPI.getPagination(newQuery);\n      console.log(response);\n      setProducts(response);\n      setTemp(response);\n    };\n\n    fetchData();\n  }, [pagination]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-5 bg-light\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row px-4 px-lg-5 py-lg-4 align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"h2 text-uppercase mb-0\",\n              children: \"Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6 text-lg-right\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              \"aria-label\": \"breadcrumb\",\n              children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                className: \"breadcrumb justify-content-lg-end mb-0 px-0\",\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item active\",\n                  \"aria-current\": \"page\",\n                  children: \"Shop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), products && products.map(value => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      id: `product_${value._id}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-lg modal-dialog-centered\",\n        role: \"document\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body p-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row align-items-stretch\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-6 p-lg-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: \"100%\"\n                  },\n                  className: \"product-view d-block h-100 bg-cover bg-center\",\n                  src: value.img1,\n                  \"data-lightbox\": `product_${value._id}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-none\",\n                  href: value.img2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"d-none\",\n                  href: value.img3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"close p-4\",\n                  type: \"button\",\n                  href: \"#section_product\",\n                  \"data-dismiss\": \"modal\",\n                  \"aria-label\": \"Close\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-5 my-md-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"list-inline mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-inline-item m-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-star small text-warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 203,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-inline-item m-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-star small text-warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-inline-item m-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-star small text-warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-inline-item m-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-star small text-warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-inline-item m-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-star small text-warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"h4\",\n                    children: value.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: [convertMoney(value.price), \" VND\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-small mb-4\",\n                    children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut ullamcorper leo, eget euismod orci. Cum sociis natoque penatibus et magnis dis parturient montes nascetur ridiculus mus. Vestibulum ultricies aliquam convallis.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row align-items-stretch mb-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-5 pl-sm-0 fix_addwish\",\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        className: \"btn btn-dark btn-sm btn-block h-100 d-flex align-items-center justify-content-center px-0\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"far fa-heart mr-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 31\n                        }, this), \"Add Too Wish List\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this)\n    }, value._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-3 order-2 order-lg-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-uppercase mb-4\",\n              children: \"Categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 px-4 bg-dark text-white mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"small text-uppercase font-weight-bold\",\n                children: \"Apple\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-unstyled small text-muted pl-lg-4 font-weight-normal\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"all\"),\n                  children: \"All\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 px-4 bg-light mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"small text-uppercase font-weight-bold\",\n                children: \"Iphone & Mac\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-unstyled small text-muted pl-lg-4 font-weight-normal\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"iphone\"),\n                  children: \"IPhone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"ipad\"),\n                  children: \"Ipad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"macbook\"),\n                  children: \"Macbook\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 px-4 bg-light mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"small text-uppercase font-weight-bold\",\n                children: \"Wireless\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-unstyled small text-muted pl-lg-4 font-weight-normal\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"airpod\"),\n                  children: \"Airpod\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"watch\"),\n                  children: \"Watch\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 px-4 bg-light mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"small text-uppercase font-weight-bold\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-unstyled small text-muted pl-lg-4 font-weight-normal mb-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"mouse\"),\n                  children: \"Mouse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"keyboard\"),\n                  children: \"Keyboard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"reset-anchor\",\n                  href: \"#\",\n                  onClick: () => handlerCategory(\"other\"),\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-9 order-1 order-lg-2 mb-5 mb-lg-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3 align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                handlerSearch: handlerSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-8\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-inline d-flex align-items-center justify-content-lg-end mb-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-inline-item\",\n                    children: /*#__PURE__*/_jsxDEV(SortProduct, {\n                      handlerChangeSort: handlerChangeSort\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Products, {\n              products: products,\n              sort: sort\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n              pagination: pagination,\n              handlerChangePage: handlerChangePage,\n              totalPage: totalPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Shop, \"nclU4OC74Wzns7EAh+tVDdd/CIk=\");\n\n_c = Shop;\nexport default Shop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/Users/hienminhnt3/Documents/FULLSTACK WEB FUNIX/LAP TRINH BACKEND VOI NODE JS/ON/thư mục không có tiêu đề/shop/client/src/Shop/Shop.jsx"],"names":["React","useEffect","useState","queryString","ProductAPI","Link","Search","Pagination","Products","SortProduct","convertMoney","Shop","props","products","setProducts","temp","setTemp","sort","setSort","totalPage","setTotalPage","category","URLSearchParams","window","location","search","get","console","log","pagination","setPagination","page","count","handlerChangeSort","value","handlerChangePage","handlerSearch","handlerCategory","fetchAllData","response","getAPI","params","query","stringify","newQuery","getPagination","Math","ceil","parseInt","length","fetchData","map","_id","width","img1","img2","img3","name","price"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport queryString from \"query-string\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"./Component/Search\";\nimport Pagination from \"./Component/Pagination\";\nimport Products from \"./Component/Products\";\nimport SortProduct from \"./Component/SortProduct\";\nimport convertMoney from \"../convertMoney\";\n\nfunction Shop(props) {\n  const [products, setProducts] = useState([]);\n  const [temp, setTemp] = useState([]);\n\n  //state dùng để sắp xếp sản phẩm\n  const [sort, setSort] = useState(\"default\");\n\n  //Tổng số trang\n  const [totalPage, setTotalPage] = useState();\n\n  // Get category parram from url by localtion\n  const category =\n    new URLSearchParams(window.location.search).get(\"category\") || \"all\";\n  console.log(category);\n\n  //Từng trang hiện tại\n  const [pagination, setPagination] = useState({\n    page: \"1\",\n    count: \"9\",\n    search: \"\",\n    category: category,\n  });\n\n  //Hàm nà dùng để lấy value từ component SortProduct truyền lên\n  const handlerChangeSort = (value) => {\n    console.log(\"Value: \", value);\n\n    setSort(value);\n  };\n\n  //Hàm này dùng để thay đổi state pagination.page\n  //Nó sẽ truyền xuống Component con và nhận dữ liệu từ Component con truyền lên\n  const handlerChangePage = (value) => {\n    console.log(\"Value: \", value);\n\n    //Sau đó set lại cái pagination để gọi chạy làm useEffect gọi lại API pagination\n    setPagination({\n      page: value,\n      count: pagination.count,\n      search: pagination.search,\n      category: pagination.category,\n    });\n  };\n\n  //Hàm này dùng để thay đổi state pagination.search\n  //Hàm này sẽ truyền xuống Component con và nhận dữ liệu từ Component con truyền lên\n  const handlerSearch = (value) => {\n    console.log(\"Value: \", value);\n\n    setPagination({\n      page: pagination.page,\n      count: pagination.count,\n      search: value,\n      category: pagination.category,\n    });\n  };\n\n  //Hàm này dùng để thay đổi state pagination.category\n  const handlerCategory = (value) => {\n    console.log(\"Value: \", value);\n\n    setPagination({\n      page: pagination.page,\n      count: pagination.count,\n      search: pagination.search,\n      category: value,\n    });\n  };\n\n  //Gọi hàm useEffect tìm tổng số sản phẩm để tính tổng số trang\n  //Và nó phụ thuộc và state pagination\n  useEffect(() => {\n    const fetchAllData = async () => {\n      let response;\n\n      // Nếu mà category === 'all' thì nó sẽ gọi hàm get tất cả sản phẩm\n      // Ngược lại thì nó sẽ gọi hàm pagination và phân loại sản phẩm\n      if (pagination.category === \"all\") {\n        response = await ProductAPI.getAPI();\n        setProducts(response);\n      } else {\n        const params = {\n          page: pagination.page,\n          count: pagination.count,\n          search: pagination.search,\n          category: pagination.category,\n        };\n\n        const query = queryString.stringify(params);\n\n        const newQuery = \"?\" + query;\n\n        response = await ProductAPI.getPagination(newQuery);\n      }\n\n      //Tính tổng số trang = tổng số sản phẩm / số lượng sản phẩm 1 trang\n      const totalPage = Math.ceil(\n        parseInt(response.length) / parseInt(pagination.count),\n      );\n      console.log(totalPage);\n\n      setTotalPage(totalPage);\n    };\n\n    fetchAllData();\n  }, [pagination]);\n\n  //Gọi hàm Pagination\n  useEffect(() => {\n    const fetchData = async () => {\n      const params = {\n        page: pagination.page,\n        count: pagination.count,\n        search: pagination.search,\n        category: pagination.category,\n      };\n\n      const query = queryString.stringify(params);\n\n      const newQuery = \"?\" + query;\n\n      const response = await ProductAPI.getPagination(newQuery);\n      console.log(response);\n\n      setProducts(response);\n      setTemp(response);\n    };\n\n    fetchData();\n  }, [pagination]);\n\n  return (\n    <div className=\"container\">\n      <section className=\"py-5 bg-light\">\n        <div className=\"container\">\n          <div className=\"row px-4 px-lg-5 py-lg-4 align-items-center\">\n            <div className=\"col-lg-6\">\n              <h1 className=\"h2 text-uppercase mb-0\">Shop</h1>\n            </div>\n            <div className=\"col-lg-6 text-lg-right\">\n              <nav aria-label=\"breadcrumb\">\n                <ol className=\"breadcrumb justify-content-lg-end mb-0 px-0\">\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    Shop\n                  </li>\n                </ol>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* -------------Modal Product----------------- */}\n      {products &&\n        products.map((value) => (\n          <div\n            className=\"modal fade show\"\n            id={`product_${value._id}`}\n            key={value._id}\n          >\n            <div\n              className=\"modal-dialog modal-lg modal-dialog-centered\"\n              role=\"document\"\n            >\n              <div className=\"modal-content\">\n                <div className=\"modal-body p-0\">\n                  <div className=\"row align-items-stretch\">\n                    <div className=\"col-lg-6 p-lg-0\">\n                      <img\n                        style={{ width: \"100%\" }}\n                        className=\"product-view d-block h-100 bg-cover bg-center\"\n                        src={value.img1}\n                        data-lightbox={`product_${value._id}`}\n                      />\n                      <img className=\"d-none\" href={value.img2} />\n                      <img className=\"d-none\" href={value.img3} />\n                    </div>\n                    <div className=\"col-lg-6\">\n                      {/* Để tắt modal phải có class=\"close\" và data-dissmiss=\"modal\" và aria-label=\"Close\" */}\n                      <a\n                        className=\"close p-4\"\n                        type=\"button\"\n                        href=\"#section_product\"\n                        data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      >\n                        ×\n                      </a>\n                      <div className=\"p-5 my-md-4\">\n                        <ul className=\"list-inline mb-2\">\n                          <li className=\"list-inline-item m-0\">\n                            <i className=\"fas fa-star small text-warning\"></i>\n                          </li>\n                          <li className=\"list-inline-item m-0\">\n                            <i className=\"fas fa-star small text-warning\"></i>\n                          </li>\n                          <li className=\"list-inline-item m-0\">\n                            <i className=\"fas fa-star small text-warning\"></i>\n                          </li>\n                          <li className=\"list-inline-item m-0\">\n                            <i className=\"fas fa-star small text-warning\"></i>\n                          </li>\n                          <li className=\"list-inline-item m-0\">\n                            <i className=\"fas fa-star small text-warning\"></i>\n                          </li>\n                        </ul>\n                        <h2 className=\"h4\">{value.name}</h2>\n                        <p className=\"text-muted\">\n                          {convertMoney(value.price)} VND\n                        </p>\n                        <p className=\"text-small mb-4\">\n                          Lorem ipsum dolor sit amet, consectetur adipiscing\n                          elit. In ut ullamcorper leo, eget euismod orci. Cum\n                          sociis natoque penatibus et magnis dis parturient\n                          montes nascetur ridiculus mus. Vestibulum ultricies\n                          aliquam convallis.\n                        </p>\n                        <div className=\"row align-items-stretch mb-4\">\n                          <div className=\"col-sm-5 pl-sm-0 fix_addwish\">\n                            <a className=\"btn btn-dark btn-sm btn-block h-100 d-flex align-items-center justify-content-center px-0\">\n                              <i className=\"far fa-heart mr-2\"></i>\n                              Add Too Wish List\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      {/* -------------Modal Product----------------- */}\n\n      <section className=\"py-5\">\n        <div className=\"container p-0\">\n          <div className=\"row\">\n            <div className=\"col-lg-3 order-2 order-lg-1\">\n              <h5 className=\"text-uppercase mb-4\">Categories</h5>\n              <div className=\"py-2 px-4 bg-dark text-white mb-3\">\n                <strong className=\"small text-uppercase font-weight-bold\">\n                  Apple\n                </strong>\n              </div>\n              <ul className=\"list-unstyled small text-muted pl-lg-4 font-weight-normal\">\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"all\")}\n                  >\n                    All\n                  </a>\n                </li>\n              </ul>\n              <div className=\"py-2 px-4 bg-light mb-3\">\n                <strong className=\"small text-uppercase font-weight-bold\">\n                  Iphone & Mac\n                </strong>\n              </div>\n              <ul className=\"list-unstyled small text-muted pl-lg-4 font-weight-normal\">\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"iphone\")}\n                  >\n                    IPhone\n                  </a>\n                </li>\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"ipad\")}\n                  >\n                    Ipad\n                  </a>\n                </li>\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"macbook\")}\n                  >\n                    Macbook\n                  </a>\n                </li>\n              </ul>\n              <div className=\"py-2 px-4 bg-light mb-3\">\n                <strong className=\"small text-uppercase font-weight-bold\">\n                  Wireless\n                </strong>\n              </div>\n              <ul className=\"list-unstyled small text-muted pl-lg-4 font-weight-normal\">\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"airpod\")}\n                  >\n                    Airpod\n                  </a>\n                </li>\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"watch\")}\n                  >\n                    Watch\n                  </a>\n                </li>\n              </ul>\n              <div className=\"py-2 px-4 bg-light mb-3\">\n                <strong className=\"small text-uppercase font-weight-bold\">\n                  Other\n                </strong>\n              </div>\n              <ul className=\"list-unstyled small text-muted pl-lg-4 font-weight-normal mb-5\">\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"mouse\")}\n                  >\n                    Mouse\n                  </a>\n                </li>\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"keyboard\")}\n                  >\n                    Keyboard\n                  </a>\n                </li>\n                <li className=\"mb-2\">\n                  <a\n                    className=\"reset-anchor\"\n                    href=\"#\"\n                    onClick={() => handlerCategory(\"other\")}\n                  >\n                    Other\n                  </a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col-lg-9 order-1 order-lg-2 mb-5 mb-lg-0\">\n              <div className=\"row mb-3 align-items-center\">\n                {/* ------------------Search----------------- */}\n                <Search handlerSearch={handlerSearch} />\n                {/* ------------------Search----------------- */}\n\n                <div className=\"col-lg-8\">\n                  <ul className=\"list-inline d-flex align-items-center justify-content-lg-end mb-0\">\n                    <li className=\"list-inline-item\">\n                      <SortProduct handlerChangeSort={handlerChangeSort} />\n                    </li>\n                  </ul>\n                </div>\n              </div>\n\n              <Products products={products} sort={sort} />\n\n              <Pagination\n                pagination={pagination}\n                handlerChangePage={handlerChangePage}\n                totalPage={totalPage}\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}